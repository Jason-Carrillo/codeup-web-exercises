<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Weather Map</title>
    <script src="js/keys.js"></script>
    <script src="https://code.jquery.com/jquery-2.2.4.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>



</head>
<body>

<input id="box-city-search" placeholder="Enter City">
<button id="button-city-search">Search</button>

<div id="weather">

</div>




</body>

<script>
    (function (){



    $.get("http://api.openweathermap.org/data/2.5/forecast", {
        "APPID": weatherAPI,
        "q": "El Paso, US",
        "units": "imperial"
    }).done(function (data){
        console.log(data)
        console.log(data.city.name)
        console.log(data.list[0].main)
        console.log(data.list[0].main.temp)
        console.log(data.list[0].main.temp_max)

        for(i = 0; i < data.list.length; i+= 8) {

            var thisCity =
                "<div>" +
                "<h1>City: " + data.city.name + "</h1>" +
                "<h3>Temperature: " + data.list[i].main.temp + "</h3>" +
                "<h5> Max Temperature: " + data.list[i].main.temp_max + "</h5>" +
                "</div>"

            $("#weather").append(thisCity)

        }


        });




    function searchCity () {

        $.get("http://api.openweathermap.org/data/2.5/forecast", {
            "APPID": weatherAPI,
            "q": $("#box-city-search").val(),
            "units": "imperial"
        }).done(function (data) {

            $("#weather").empty()

            for (i = 0; i < data.list.length; i += 8) {



                var thisCity =
                    "<div>" +
                    "<h1>City: " + data.city.name + "</h1>" +
                    "<h3>Temperature: " + data.list[i].main.temp + "</h3>" +
                    "<h5> Max Temperature: " + data.list[i].main.temp_max + "</h5>" +
                    "</div>"

                $("#weather").append(thisCity)
            }
        })
    };

    $("#button-city-search").click(searchCity)





    })();



</script>
</html>